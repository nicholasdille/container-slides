.build-go:
  script:
  - |
    go build \
        -ldflags "-X main.Version=${version} -X 'main.Author=${AUTHOR}'" \
        -o hello \
        .
  artifacts:
    paths:
    - hello

.test-go:
  before_script:
  - apt-get update
  - apt-get -y install file
  script:
  - |
    file hello

.unit-tests-go:
  script:
  - go install gotest.tools/gotestsum@latest
  - gotestsum --junitfile report.xml
  artifacts:
    when: always
    reports:
      junit: report.xml
